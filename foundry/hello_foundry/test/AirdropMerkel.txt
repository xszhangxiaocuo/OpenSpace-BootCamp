xszxc@192 hello_foundry % forge test --mc Airdrop -vvvv
[⠊] Compiling...
[⠃] Compiling 2 files with Solc 0.8.25
[⠊] Solc 0.8.25 finished in 777.88ms
Compiler run successful!

Ran 1 test for test/AirdropMerkel.t.sol:AirdropMerkleTest
[PASS] testMulticall() (gas: 203487)
Traces:
  [217887] AirdropMerkleTest::testMulticall()
    ├─ [2894] MyToken::nonces(0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e) [staticcall]
    │   └─ ← [Return] 0
    ├─ [5432] tokenSigUtils::getTypedDataHash(Permit({ owner: 0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e, spender: 0xc4FB50B25Cb0db16917dA047689DDB07d49701Fe, value: 10000000000000000000 [1e19], nonce: 0, deadline: 1001 })) [staticcall]
    │   └─ ← [Return] 0x89722c1e646e3c43124aa55024872816011738f9375d5912ea3431811a5492a6
    ├─ [0] VM::sign("<pk>", 0x89722c1e646e3c43124aa55024872816011738f9375d5912ea3431811a5492a6) [staticcall]
    │   └─ ← [Return] 28, 0xd9827a83794f583d114d318f51805bbfb9ac51066587518a80afe85f1fa894d3, 0x5423e6c05de8d74684068d39a650a56a40957b36bbd2305da96be0e19ae0eca4
    ├─ [0] VM::prank(0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e)
    │   └─ ← [Return] 
    ├─ [156702] AirdropMerkleNFTMarket::multicall([0xa5d7c06e00000000000000000000000093bdbe2c9f0f5cec59175c51d0a39faee42a4a6e000000000000000000000000c4fb50b25cb0db16917da047689ddb07d49701fe0000000000000000000000000000000000000000000000008ac7230489e80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003e9000000000000000000000000000000000000000000000000000000000000001cd9827a83794f583d114d318f51805bbfb9ac51066587518a80afe85f1fa894d35423e6c05de8d74684068d39a650a56a40957b36bbd2305da96be0e19ae0eca4, 0x8ca3fcfc000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002e532bea76eb3f6c701b02dbfdcbc77fc6d89a3ed2c4a30bd962fbdea284716a2857adae635184742c7990e6c4f5990deb3dba32620310a05430f5350d2ca84b7])
    │   ├─ [55307] AirdropMerkleNFTMarket::permitPrePay(TokenPermitData({ owner: 0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e, spender: 0xc4FB50B25Cb0db16917dA047689DDB07d49701Fe, amount: 10000000000000000000 [1e19], nonce: 0, deadline: 1001 }), Signature({ v: 28, r: 0xd9827a83794f583d114d318f51805bbfb9ac51066587518a80afe85f1fa894d3, s: 0x5423e6c05de8d74684068d39a650a56a40957b36bbd2305da96be0e19ae0eca4 })) [delegatecall]
    │   │   ├─ [51574] MyToken::permit(0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e, AirdropMerkleNFTMarket: [0xc4FB50B25Cb0db16917dA047689DDB07d49701Fe], 10000000000000000000 [1e19], 1001, 28, 0xd9827a83794f583d114d318f51805bbfb9ac51066587518a80afe85f1fa894d3, 0x5423e6c05de8d74684068d39a650a56a40957b36bbd2305da96be0e19ae0eca4)
    │   │   │   ├─ [3000] PRECOMPILES::ecrecover(0x89722c1e646e3c43124aa55024872816011738f9375d5912ea3431811a5492a6, 28, 98382423818572745886150898101916281689760226326196183975469329201483760571603, 38057711516120970321302939018499969452119629564905295253477573879485589154980) [staticcall]
    │   │   │   │   └─ ← [Return] 0x00000000000000000000000093bdbe2c9f0f5cec59175c51d0a39faee42a4a6e
    │   │   │   ├─ emit Approval(owner: 0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e, spender: AirdropMerkleNFTMarket: [0xc4FB50B25Cb0db16917dA047689DDB07d49701Fe], value: 10000000000000000000 [1e19])
    │   │   │   └─ ← [Stop] 
    │   │   └─ ← [Stop] 
    │   ├─ [95389] AirdropMerkleNFTMarket::claimNFT([0xe532bea76eb3f6c701b02dbfdcbc77fc6d89a3ed2c4a30bd962fbdea284716a2, 0x857adae635184742c7990e6c4f5990deb3dba32620310a05430f5350d2ca84b7], 1) [delegatecall]
    │   │   ├─ emit Claimed(account: 0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e)
    │   │   ├─ [31642] MyToken::transferFrom(0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e, 0x472678022927894035D158D8F3ACCE2b91e13d3E, 5000000000000000000 [5e18])
    │   │   │   ├─ emit Transfer(from: 0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e, to: 0x472678022927894035D158D8F3ACCE2b91e13d3E, value: 5000000000000000000 [5e18])
    │   │   │   └─ ← [Return] true
    │   │   ├─ [43689] MyERC721::safeTransferFrom(0x472678022927894035D158D8F3ACCE2b91e13d3E, 0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e, 1)
    │   │   │   ├─ emit Transfer(from: 0x472678022927894035D158D8F3ACCE2b91e13d3E, to: 0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e, tokenId: 1)
    │   │   │   └─ ← [Stop] 
    │   │   ├─ emit NFTSold(buyer: 0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e, nftId: 1)
    │   │   └─ ← [Stop] 
    │   └─ ← [Return] [0x, 0x]
    ├─ [1072] MyERC721::ownerOf(1) [staticcall]
    │   └─ ← [Return] 0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e
    ├─ [0] VM::assertEq(0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e, 0x93BDBe2c9f0F5cec59175C51D0a39fAee42A4a6e) [staticcall]
    │   └─ ← [Return] 
    ├─ [896] MyToken::balanceOf(0x472678022927894035D158D8F3ACCE2b91e13d3E) [staticcall]
    │   └─ ← [Return] 5000000000000000000 [5e18]
    ├─ [0] VM::assertEq(5000000000000000000 [5e18], 5000000000000000000 [5e18]) [staticcall]
    │   └─ ← [Return] 
    └─ ← [Stop] 

Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 9.06ms (2.50ms CPU time)

Ran 1 test suite in 452.16s (9.06ms CPU time): 1 tests passed, 0 failed, 0 skipped (1 total tests)